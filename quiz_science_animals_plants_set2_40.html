<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>วิทยาศาสตร์ ม.1 — ชุดที่ 2 (สัตว์ 20 + พืช 20) | Kru Pai Classroom</title>
<style>
  :root{
    --primary:#ec4899; /* pink */
    --accent:#f59e0b;  /* amber */
    --bg:#fafafa;
    --ink:#0f172a;
    --muted:#64748b;
    --success:#16a34a;
    --danger:#dc2626;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui, -apple-system, 'Segoe UI', Tahoma, sans-serif;background:var(--bg);color:var(--ink)}
  header{position:sticky;top:0;background:white;border-bottom:1px solid #e5e7eb;padding:10px 16px;display:flex;align-items:center;gap:10px;z-index:10}
  header .badge{background:var(--primary);color:white;padding:6px 10px;border-radius:999px;font-weight:700}
  header h1{font-size:16px;margin:0;line-height:1.2}
  main{max-width:980px;margin:0 auto;padding:16px}
  .card{background:white;border:1px solid #e5e7eb;border-radius:18px;box-shadow:0 6px 24px rgba(2,8,23,.06)}
  .cover{padding:32px;text-align:center;display:flex;flex-direction:column;gap:18px;align-items:center;justify-content:center;min-height:72vh}
  .cover h2{font-size:28px;margin:0}
  .cover p{color:var(--muted);margin:0}
  .row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
  input[type=text]{font-size:18px;padding:12px 14px;border-radius:12px;border:1px solid #cbd5e1;min-width:260px}
  button{font-size:18px;padding:12px 18px;border-radius:12px;border:none;cursor:pointer;font-weight:700}
  .btn{background:var(--primary);color:white}
  .btn:disabled{opacity:.5;cursor:not-allowed}
  .btn-outline{background:white;border:2px solid var(--primary);color:var(--primary)}
  .quiz{padding:18px 18px 8px}
  .sectionHead{margin:8px 0 0 0;padding:10px 14px;border-left:6px solid var(--primary);background:#fff7fb;border-radius:10px;font-weight:900}
  .q{border:1px solid #e5e7eb;border-radius:16px;padding:16px;margin:12px 0}
  .q h3{margin:0 0 12px 0;font-size:18px}
  .choices{display:grid;gap:10px}
  .choice{border:2px solid #cbd5e1;border-radius:12px;padding:12px 14px;font-size:18px;text-align:left;cursor:pointer;background:#f9fafb}
  .choice:hover{border-color:var(--primary)}
  .choice.selected{border-color:var(--accent);background:#fffbeb}
  .footer{display:flex;justify-content:space-between;align-items:center;padding:12px}
  .pill{padding:6px 10px;border-radius:999px;background:#f1f5f9;color:#0f172a;font-weight:600}
  .result{padding:28px;text-align:center}
  .big{font-size:48px;font-weight:900;margin:0}
  .pass{color:var(--success)}
  .fail{color:var(--danger)}
  .explain{margin-top:8px;color:#334155;font-size:14px}
  .brand{font-weight:900;letter-spacing:.3px}
  @media (max-width:640px){
    .big{font-size:40px}
    .choice{font-size:17px}
  }
</style>
</head>
<body>
<header>
  <span class="badge">Kru Pai Classroom</span>
  <h1>วิทยาศาสตร์ ม.1 — แบบทดสอบชุดที่ 2 • สัตว์ 20 ข้อ + พืช 20 ข้อ</h1>
</header>

<main>
  <section id="welcome" class="card cover">
    <h2>ชุดที่ 2: สัตว์ & พืช (40 ข้อ)</h2>
    <p>กรอกชื่อเพื่อเริ่มทำแบบทดสอบ • ผ่านเกณฑ์ <b>80%</b></p>
    <div class="row">
      <input id="playerName" type="text" placeholder="พิมพ์ชื่อของหนูที่นี่">
      <button class="btn" onclick="startQuiz()">เริ่มทำแบบทดสอบ</button>
    </div>
    <p class="brand">© Kru Pai Classroom</p>
  </section>

  <section id="quizBox" class="card quiz" style="display:none"></section>
  <section id="resultBox" class="card result" style="display:none"></section>
</main>

<script>
const ANIMAL = [
  {t:"สัตว์ข้อใดเป็นมีกระดูกสันหลัง (Vertebrate)",c:["ปลาดาว","หมู","กุ้ง","ปลาหมึก"],a:1,e:"หมูเป็นสัตว์มีกระดูกสันหลัง ส่วนปลาดาว/กุ้ง/ปลาหมึกไม่มีกระดูกสันหลัง"},
  {t:"สิ่งมีชีวิตข้อใด 'ไม่มีกระดูกสันหลัง' (Invertebrate)",c:["ปลา","นกฮูก","ไส้เดือน","สุนัข"],a:2,e:"ไส้เดือนเป็นสัตว์ไม่มีกระดูกสันหลัง (Annelid)"},
  {t:"ข้อใดจัดเป็นสัตว์เลือดอุ่น (Warm-blooded)",c:["งู","จิ้งจก","คางคก","แมว"],a:3,e:"สัตว์เลือดอุ่นคือ นก และ สัตว์เลี้ยงลูกด้วยน้ำนม"},
  {t:"ข้อใดจัดเป็นสัตว์เลือดเย็น (Cold-blooded)",c:["เสือ","ปลากัด","ไก่","ค้างคาว"],a:1,e:"ปลา สัตว์ครึ่งบกครึ่งน้ำ และสัตว์เลื้อยคลานเป็นเลือดเย็น"},
  {t:"การออกลูกของสัตว์เลี้ยงลูกด้วยน้ำนมส่วนใหญ่เป็นแบบ",c:["ออกลูกเป็น (Viviparous)","วางไข่ (Oviparous)","แตกหน่อ","แบ่งตัว"],a:0,e:"ส่วนใหญ่ออกลูกเป็น ยกเว้นบางชนิดที่วางไข่ เช่น ตุ่นปากเป็ด"},
  {t:"นกส่วนใหญ่มีการสืบพันธุ์แบบใด",c:["ออกลูกเป็น","วางไข่","แตกหน่อ","งอกใหม่จากส่วนที่ขาด"],a:1,e:"นกวางไข่และเลี้ยงลูกในรัง"},
  {t:"ห้องหัวใจของปลาโดยทั่วไปมี",c:["2 ห้อง","3 ห้อง","4 ห้อง","5 ห้อง"],a:0,e:"ปลา: หัวใจ 2 ห้อง (เอเตรียม 1 + เวนทริเคิล 1)"},
  {t:"ห้องหัวใจของสัตว์ครึ่งบกครึ่งน้ำ (เช่น กบ)",c:["2 ห้อง","3 ห้อง","4 ห้อง","6 ห้อง"],a:1,e:"กบ: 3 ห้อง (เอเตรียม 2 + เวนทริเคิล 1)"},
  {t:"สัตว์เลื้อยคลานส่วนใหญ่มีหัวใจ",c:["2 ห้อง","3 ห้อง","4 ห้อง","5 ห้อง"],a:1,e:"สัตว์เลื้อยคลานส่วนใหญ่ 3 ห้อง (ยกเว้นจระเข้ 4 ห้อง)"},
  {t:"สัตว์เลี้ยงลูกด้วยน้ำนม/นก มีหัวใจกี่ห้อง",c:["2 ห้อง","3 ห้อง","4 ห้อง","5 ห้อง"],a:2,e:"นกและแมมมาเลีย: หัวใจ 4 ห้อง"},
  {t:"ปลาหายใจด้วย",c:["ปอด","เหงือก","ผิวหนัง","ถุงลม"],a:1,e:"ปลาใช้เหงือกแลกเปลี่ยนแก๊สในน้ำ"},
  {t:"สัตว์ครึ่งบกครึ่งน้ำ (ตัวเต็มวัย) หายใจด้วย",c:["เหงือกอย่างเดียว","ปอดและผิวหนัง","ปอดอย่างเดียว","เหงือกและครีบ"],a:1,e:"ตัวเต็มวัยใช้ทั้งปอดและผิวหนัง"},
  {t:"แมลงมีจำนวนขากี่ขา",c:["4 ขา","6 ขา","8 ขา","10 ขา"],a:1,e:"แมลงมี 3 คู่ = 6 ขา"},
  {t:"แมงมุมมีจำนวนขากี่ขา",c:["6 ขา","8 ขา","10 ขา","12 ขา"],a:1,e:"แมงมุมมี 4 คู่ = 8 ขา"},
  {t:"สัตว์มีกระดูกสันหลังกลุ่มใด 'วางไข่เปลือกแข็งบนบก'",c:["สัตว์ครึ่งบกครึ่งน้ำ","สัตว์ปีก","สัตว์เลี้ยงลูกด้วยน้ำนม","ปลา"],a:1,e:"นกวางไข่เปลือกแข็งบนบก"},
  {t:"สัตว์กลุ่มใดมีเกล็ดและเป็นเลือดเย็น",c:["สัตว์ปีก","สัตว์เลื้อยคลาน","สัตว์เลี้ยงลูกด้วยน้ำนม","สัตว์ครึ่งบกครึ่งน้ำ"],a:1,e:"สัตว์เลื้อยคลานผิวแห้งมีเกล็ด"},
  {t:"กลุ่มใดต่อไปนี้เป็น 'ไม่มีกระดูกสันหลัง' ทั้งหมด",c:["กุ้ง ปู หมึก","ปลา นก งู","สุนัข วัว ม้า","คางคก จิ้งจก"],a:0,e:"กุ้ง ปู (Crustacea) และปลาหมึก (Mollusca) ไม่มีกระดูกสันหลัง"},
  {t:"ตัวอย่าง 'สัตว์มีกระดูกสันหลัง' ทั้งหมดในข้อใด",c:["ค้างคาว ปลาทอง ไก่","ปลาหมึก กุ้ง กบ","หอยทาก ไส้เดือน ปลาฉลาม","กุ้ง ปู นก"],a:0,e:"ค้างคาว(แมมมาเลีย), ปลาทอง(ปลา), ไก่(นก)"},
  {t:"ข้อใด 'วางไข่' เป็นหลัก",c:["สุนัข","แมว","นกกระจอก","วัว"],a:2,e:"นกวางไข่"},
  {t:"ข้อใด 'ออกลูกเป็น' เป็นหลัก",c:["ไก่","งู","ช้าง","กบ"],a:2,e:"สัตว์เลี้ยงลูกด้วยน้ำนมส่วนใหญ่ออกลูกเป็น"}
];

const PLANT = [
  {t:"ข้อใดเป็นพืชใบเลี้ยงเดี่ยว (Monocot)",c:["ข้าว","ถั่วลิสง","มะม่วง","ทานตะวัน"],a:0,e:"ใบเลี้ยงเดี่ยว: ข้าว ข้าวโพด กล้วยไม้ หญ้า ฯลฯ"},
  {t:"ข้อใดเป็นพืชใบเลี้ยงคู่ (Dicot)",c:["ข้าวโพด","กล้วยไม้","ถั่วเหลือง","อ้อย"],a:2,e:"ใบเลี้ยงคู่: ถั่ว มะเขือ มะม่วง ฯลฯ"},
  {t:"ลักษณะเส้นใบของพืชใบเลี้ยงเดี่ยวโดยทั่วไป",c:["เป็นร่างแห","ขนานกัน","วนเป็นวง","ไม่เป็นระเบียบ"],a:1,e:"เส้นใบขนานเป็นเอกลักษณ์ใบเลี้ยงเดี่ยว"},
  {t:"ลักษณะเส้นใบของพืชใบเลี้ยงคู่โดยทั่วไป",c:["ขนานกัน","เป็นร่างแห","ไม่มีเส้นใบ","เส้นใบเดี่ยว"],a:1,e:"ใบเลี้ยงคู่มีเส้นใบแตกแขนงเป็นร่างแห"},
  {t:"จำนวนกลีบดอกของใบเลี้ยงเดี่ยวมักเป็น",c:["ทวีคูณของ 3","ทวีคูณของ 4 หรือ 5","ไม่แน่นอน","เลขคี่เท่านั้น"],a:0,e:"ดอกใบเลี้ยงเดี่ยว: 3, 6, 9 ..."},
  {t:"จำนวนกลีบดอกของใบเลี้ยงคู่มักเป็น",c:["ทวีคูณของ 3","ทวีคูณของ 4 หรือ 5","เลขคู่เท่านั้น","เลขคี่เท่านั้น"],a:1,e:"ดอกใบเลี้ยงคู่: 4 หรือ 5 (และทวีคูณ)"},
  {t:"รากของใบเลี้ยงเดี่ยวโดยทั่วไป",c:["รากแก้วเด่น","รากฝอยเป็นกระจุก","ไม่มีราก","รากอากาศเสมอ"],a:1,e:"ใบเลี้ยงเดี่ยวมีระบบรากฝอย"},
  {t:"รากของใบเลี้ยงคู่โดยทั่วไป",c:["รากฝอยเป็นกระจุก","รากแก้วเด่น","ไม่มีรากแก้ว","รากห้อย"],a:1,e:"ใบเลี้ยงคู่มีรากแก้วชัดเจน"},
  {t:"ดอกสมบูรณ์เพศหมายถึง",c:["มีเฉพาะเกสรเพศผู้","มีเฉพาะเกสรเพศเมีย","มีทั้งเกสรเพศผู้และเพศเมียในดอกเดียวกัน","ไม่มีเกสร"],a:2,e:"ดอกสมบูรณ์เพศมี stamen + pistil ในดอกเดียว"},
  {t:"ดอกไม่สมบูรณ์เพศหมายถึง",c:["มีทั้งเกสรผู้และเมีย","มีเฉพาะเพศเดียวในดอก","ไม่มีกลีบดอก","มีแต่กลีบเลี้ยง"],a:1,e:"ดอกเพศผู้หรือดอกเพศเมียอย่างใดอย่างหนึ่ง"},
  {t:"ตัวอย่าง 'ดอกสมบูรณ์เพศ' พบใน",c:["กุหลาบ","ข้าวโพด (ช่อผู้/ช่อเมียแยกกัน)","แตงกวา (ดอกผู้/ดอกเมีย)","พุทธรักษา"],a:0,e:"กุหลาบมักมีทั้งเกสรผู้และเมียในดอกเดียว"},
  {t:"ตัวอย่าง 'ดอกไม่สมบูรณ์เพศ' เด่นชัดใน",c:["ข้าวโพด","กุหลาบ","บานชื่น","ชบา"],a:0,e:"ข้าวโพดมีช่อดอกผู้และช่อดอกเมียแยกกัน"},
  {t:"ข้อใดเป็น 'รากสะสมอาหาร (รากใต้ดิน)'",c:["มันเทศ","มันฝรั่ง","หัวหอม","เผือก"],a:0,e:"มันเทศเป็นรากสะสมอาหาร (root tuber)"},
  {t:"ข้อใดเป็น 'ลำต้นใต้ดินแบบหัว' (stem tuber)",c:["มันเทศ","มันฝรั่ง","แครอท","มันสำปะหลัง"],a:1,e:"มันฝรั่งเป็นลำต้นใต้ดินแบบหัว (stem tuber)"},
  {t:"ข้อใดเป็น 'หัวเปลือกหุ้ม' (bulb) เช่น มีเกล็ดใบซ้อนกัน",c:["ขิง","หัวหอม","เผือก","มันสำปะหลัง"],a:1,e:"หัวหอม/กระเทียม เป็น bulb"},
  {t:"ข้อใดเป็น 'เหง้า' (rhizome) ลำต้นใต้ดินทอดแนวนอน",c:["ขิง","มันเทศ","แครอท","หัวหอม"],a:0,e:"ขิง/ข่า/ไพล เป็นเหง้า (rhizome)"},
  {t:"ข้อใดเป็น 'คอร์ม' (corm) เช่น เผือก",c:["เผือก","หัวหอม","แครอท","มันเทศ"],a:0,e:"เผือกเป็นคอร์ม ลำต้นใต้ดินทึบตัน"},
  {t:"ผลไม้ส่วนใหญ่เกิดจากส่วนใดของดอก",c:["กลีบดอก","รังไข่","ก้านดอก","เกสรเพศผู้"],a:1,e:"รังไข่พัฒนาเป็นผล เมล็ดมาจากออวุล"},
  {t:"ข้อใดกล่าว 'ถูก' เกี่ยวกับพืชใบเลี้ยงเดี่ยว/คู่",c:["ใบเลี้ยงเดี่ยวเส้นใบเป็นร่างแห","ใบเลี้ยงคู่เส้นใบขนาน","ใบเลี้ยงเดี่ยวมัดท่อลำเลียงกระจาย","ใบเลี้ยงคู่ดอกทวีคูณของ 3"],a:2,e:"ใบเลี้ยงเดี่ยวมัดท่อลำเลียงกระจายทั่วลำต้น"},
  {t:"ตัวอย่างพืชใบเลี้ยงเดี่ยวทั้งหมดในข้อใด",c:["ข้าว กล้วยไม้ อ้อย","ถั่ว เห็ด มะเขือเทศ","งา ทานตะวัน มะม่วง","ฝ้าย มะเขือ ถั่วเหลือง"],a:0,e:"ทั้งสามเป็นใบเลี้ยงเดี่ยว"}
];

const QUESTIONS = [
  {type:"section", title:"🐾 ส่วนที่ 1: สัตว์ (20 ข้อ)"},
  ...ANIMAL,
  {type:"section", title:"🌿 ส่วนที่ 2: พืช (20 ข้อ)"},
  ...PLANT
];

let player={name:"นักเรียน"};
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a;}
function startQuiz(){
  const name=document.getElementById('playerName').value.trim();
  player.name=name||"นักเรียน";
  document.getElementById('welcome').style.display='none';
  buildQuiz();
}
function buildQuiz(){
  const box=document.getElementById('quizBox'); box.style.display='block'; box.innerHTML='';
  const head=document.createElement('div'); head.className='footer';
  head.innerHTML=`<span class="pill">ผู้ทำ: ${player.name}</span><span class="pill">รวมข้อ: 40 ข้อ</span>`;
  box.appendChild(head);

  const animals = shuffle([...ANIMAL]).map(q=>({...q}));
  const plants  = shuffle([...PLANT]).map(q=>({...q}));
  const qs = [{type:"section",title:"🐾 ส่วนที่ 1: สัตว์ (20 ข้อ)"},...animals,{type:"section",title:"🌿 ส่วนที่ 2: พืช (20 ข้อ)"},...plants];
  window.__quizOrder=qs;

  let idxCount=0;
  qs.forEach((q)=>{
    if(q.type==="section"){
      const h=document.createElement('h2'); h.className='sectionHead'; h.textContent=q.title; box.appendChild(h); return;
    }
    idxCount++;
    const wrap=document.createElement('div'); wrap.className='q';
    wrap.innerHTML=`<h3>ข้อที่ ${idxCount}. ${q.t}</h3>`;
    const choices=document.createElement('div'); choices.className='choices';
    q.c.forEach((text,ci)=>{
      const btn=document.createElement('button'); btn.type='button'; btn.className='choice'; btn.textContent=`${ci+1}. ${text}`;
      btn.addEventListener('click',()=>{[...choices.children].forEach(c=>c.classList.remove('selected')); btn.classList.add('selected'); wrap.dataset.selected=ci;});
      choices.appendChild(btn);
    });
    wrap.appendChild(choices); box.appendChild(wrap);
  });

  const foot=document.createElement('div'); foot.className='footer';
  const back=document.createElement('button'); back.className='btn-outline'; back.textContent='กลับหน้าแรก'; back.onclick=()=>{document.getElementById('quizBox').style.display='none';document.getElementById('welcome').style.display='flex';}
  const submit=document.createElement('button'); submit.className='btn'; submit.textContent='ตรวจคำตอบ & สรุปคะแนน'; submit.onclick=gradeQuiz;
  foot.append(back,submit); box.appendChild(foot);
}
function gradeQuiz(){
  const qs=window.__quizOrder; let correct=0; let total=0;
  const blocks=document.querySelectorAll('.q');
  blocks.forEach((wrap,i)=>{
    total++;
    const sel=parseInt(wrap.dataset.selected); const q=(function find(i){ let count=0; for(const item of qs){ if(item.type==="section") continue; if(count===i) return item; count++; } return null; })(i);
    const exp=document.createElement('div'); exp.className='explain';
    if(!Number.isInteger(sel)){exp.innerHTML='ยังไม่ได้เลือกคำตอบ'; wrap.appendChild(exp); return;}
    const ok=(sel===q.a);
    if(ok){correct++; exp.innerHTML='✓ ถูกต้อง — '+q.e; exp.style.color='var(--success)';}
    else{exp.innerHTML=`✗ ไม่ถูก — เฉลยข้อ ${q.a+1}. ${q.c[q.a]} <br>${q.e}`; exp.style.color='var(--danger)';}
    wrap.appendChild(exp);
  });
  const percent=Math.round(correct/total*100); const pass=percent>=80;
  const res=document.getElementById('resultBox'); res.style.display='block';
  res.innerHTML=`
    <h2>สรุปคะแนนของ <span class="brand">${player.name}</span></h2>
    <p class="big ${pass?'pass':'fail'}">${correct} / ${total} (${percent}%) — ${pass?'ผ่าน ✅':'ไม่ผ่าน ❌'}</p>
    <p>เกณฑ์ผ่าน: 80% • ถ่ายภาพหน้าจอส่งครูได้เลย</p>
    <div class="row" style="margin-top:14px">
      <button class="btn" onclick="window.scrollTo({top:0,behavior:'smooth'})">เลื่อนกลับไปดูเฉลยรายข้อ</button>
      <button class="btn-outline" onclick="location.reload()">เริ่มใหม่</button>
    </div>
    <p style="margin-top:16px;color:var(--muted)">&copy; Kru Pai Classroom</p>
  `;
  window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
}
</script>
</body>
</html>
